
## 7ì£¼ì°¨ í† ìš”ìŠ¤í„°ë””
### ì°¸ì—¬ì
 - vetto
 - harry
 - ë¦¬ì§€
 - ì†¡ì¤€
 - optional(ìƒˆí™)

### ì§„í–‰ì¼ì‹œ
 2023.02.04
 
### í•™ìŠµí‚¤ì›Œë“œ
- í´ë¡œì €
- ê³ ì°¨í•¨ìˆ˜
- ì œë„¤ë¦­

## ğŸ‘¨â€ğŸ”¬ ì‹¤í—˜ì£¼ì œ : í´ë¡œì €, ê³ ì°¨í•¨ìˆ˜

### ì‹¤í—˜ 1 : Closureë¥¼ í™œìš©í•´ ê²Œì„ ìºë¦­í„°ì— ìŠ¤í‚¬ ì ìš©í•˜ê¸°
 - Character íƒ€ì…ì„ ìƒì„±í•©ë‹ˆë‹¤.
   - () â†’ Void í•¨ìˆ˜ íƒ€ì…ì„ ê°–ëŠ” skill í”„ë¡œí¼í‹°ë¥¼ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì–´ë´…ì‹œë‹¤.
   - () â†’ Void í•¨ìˆ˜ íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ê°–ëŠ” tabShiftKey(skill: () â†’ Void) í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤.
   - ìºë¦­í„°ë¥¼ ìƒì„±í•˜ê³ , skillì„ ë°”ê¿”ê°€ë©° tabShiftKey ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ë´…ì‹œë‹¤.

#### ë‚´ìš©
- () -> Void í•¨ìˆ˜ íƒ€ì…, ì¦‰ í´ë¡œì €ë¥¼ ì°¸ì¡°í•˜ëŠ” í”„ë¡œí¼í‹°ë¥¼ êµ¬í˜„
- í´ë¡œì €ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” `tabShiftKey` êµ¬í˜„

#### ì†ŒìŠ¤ì½”ë“œ
 ```swift
class Character {
    let a: () -> () = {
        print("a ìŠ¤í‚¬ì„")
    }
    let b: () -> () = {
        print("b ìŠ¤í‚¬ì„")
    }
    let c: () -> () = {
        print("c ìŠ¤í‚¬ì„")
    }
    
    func tabShiftkey(skill: () -> ()) {
        skill()
    }
}

let a = { print("aaaaaaa") }

let character = Character()

character.tabShiftkey(skill: character.b )

character.tabShiftkey { character.a } // ì»´íŒŒì¼ ì—ëŸ¬ë‚¨
```
- ë§ˆì§€ë§‰ ì¤„ ì»´íŒŒì¼ ì—ëŸ¬ëŠ” `{ }` ì´ ì¤‘ê´„í˜¸ ìì²´ê°€ í•¨ìˆ˜(í´ë¡œì €)ë¥¼ ì˜ë¯¸í•œë‹¤.
- ë”°ë¼ì„œ { character.a } ìì²´ê°€ í•¨ìˆ˜ì•ˆì— í•¨ìˆ˜ ì´ë¦„ì´ ë˜ ì¡´ì¬í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— character.a í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì—ëŸ¬ ë¬¸êµ¬ê°€ ëœ¸



### ì‹¤í—˜ 2 : ê³ ì°¨í•¨ìˆ˜ í™œìš©í•´ë³´ê¸°

#### ë‚´ìš©
- ê³ ì°¨í•¨ìˆ˜ (map, reduce, filter, forEach, compatMap, flatMap) ì˜ ê¸°ëŠ¥ì„ í™•ì¸í•˜ì—¬ ì˜ˆì œë¡œ ì‘ì„±

#### ì†ŒìŠ¤ì½”ë“œ
```swift
let array = [1, 2, 3, 4, 5]
let mappingArray = array.map { String($0) }
print(mappingArray)

let reducedArray = mappingArray.reduce("") { $0 + $1 } // í›„í–‰í´ë¡œì €
print(reducedArray)

let filteredArray = array.filter { $0 % 2 == 0 } // %ëŠ” ë‚˜ë¨¸ì§€, /ëŠ” ë‚˜ëˆˆ ëª«
print(filteredArray)

array.forEach { print($0) }
array.forEach { number in print(number) } // number: arrayì˜ ìš”ì†Œ, print(number)ëŠ” ì‹¤í–‰êµ¬ë¬¸

let arrayB = [1, 2, nil, 3, nil]
let compatMappingArray = arrayB.compactMap { number -> Int? in
    guard let number2 = number else { return nil }
    return number2 * 2 }
let arrayTest = arrayB.compactMap { $0 }.map { $0 * 2 }
print(compatMappingArray)
print(arrayTest)

let arrayC = [[1,2], [3, [4,5]]]
arrayC.forEach { print(type(of: $0)) } // Array<Any>
let flatMappingArray = arrayC.flatMap { $0 }
print(flatMappingArray)  // [1, 2, 3, [4, 5]]

let arrayE: [Any] = [1, 2, 3, [4, 5]]
let repeatFlatMapp = arrayE.map { $0 }.join() //error!
print(repeatFlatMapp)
```

- map: ë°°ì—´ ìš”ì†Œë¥¼ ì „ë‹¬ì¸ìë¡œ ë°›ì•„ í•¨ìˆ˜ ì‹¤í–‰ì˜ ê²°ê³¼ë¥¼ ìƒˆë¡œìš´ ë°°ì—´ì— ì €ì¥ì‹œí‚¨ë‹¤.
- reduce: ì²«ë²ˆì§¸ ê°’ì„ ì‹œì‘ìœ¼ë¡œ ë‘ë²ˆì§¸ ê°’ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” í´ë¡œì € êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ì—¬ ë§Œë“¤ì–´ì§„ ìš”ì†Œë¥¼ ë°˜í™˜.
- filter: ì»¬ë ‰ì…˜ ë‚´ë¶€ì˜ ìš”ì†Œë¥¼ íŠ¹ì • ì¡°ê±´ìœ¼ë¡œ ê±¸ëŸ¬ì„œ ìƒˆë¡œìš´ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë°˜í™˜í•´ì¤€ë‹¤.
- forEach: ì»¬ë ‰ì…˜ ìš”ì†Œì˜ ê°œìˆ˜ë§Œí¼ ë°˜ë³µí•´ì£¼ëŠ” í•¨ìˆ˜ì¸ë° ë°˜ë³µí•  ì‘ì—…ì„ í´ë¡œì €ë¡œ ë°›ëŠ”ë‹¤.
- compactMap: ìš”ì†Œ ì¤‘ì— nilì´ ìˆë‹¤ë©´ ì œê±°í•˜ê³  ë°°ì—´ë¡œ ë°˜í™˜ 
- flatMap: nì°¨ì› ë°°ì—´ì˜ ìš”ì†Œë“¤ì„ 1ì°¨ì› ë°°ì—´ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤.
   - error ì´ìœ ? [Any] íƒ€ì…ì˜ ë°°ì—´ì€ flatMapì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
   ê³µì‹ë¬¸ì„œì— ë”°ë¥´ë©´ 
   In fact, `s.flatMap(transform)` is equivalent to `Array(s.map(transform).joined())` ì„ì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, joined()ì˜ ë°˜í™˜ê°’ì€ `FlattenSequence<Self>`ì´ë¯€ë¡œ ë‹¤ë¥¸ íƒ€ì…ë¼ë¦¬ëŠ” ë°˜í™˜í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ì—¬ê¸°ì„œ `Sequence`ë¥¼ ì´ë£¨ëŠ” ìš”ì†ŒëŠ” `Element`ë¡œ ê°™ì€ íƒ€ì…ì´ì–´ì•¼ í•œë‹¤.

![](https://i.imgur.com/A1koBZV.png)
![](https://i.imgur.com/iXTmPuR.png)
![](https://i.imgur.com/sfS56zx.png)


### ì‹¤í—˜ 3 : Custom ê³ ì°¨í•¨ìˆ˜ ì§ì ‘ ë§Œë“¤ê¸°

#### ë‚´ìš©
- ê³ ì°¨í•¨ìˆ˜ map, filter, reduce ì§ì ‘ í•¨ìˆ˜ë¡œ êµ¬í˜„í•˜ê¸°

#### map
```swift!
extension Array {
    func myMap<T>(_ transform: (Self.Element) -> T) -> [T] {
        
        var result: [T] = []
        
        for num in self {
            let value = transform(num)
            result.append(value)
        }
        return result
    }
}
```
#### filter
```swift!
extension Array {
    func myFilter(_ action: (Element) -> Bool) -> [Element] {
        var result: [Element] = []
        for element in self {
            if action(element) {
                result.append(element)
            }
        }
        return result
    }
}
```
#### reduce
```swift
extension Array {
    func myReduce<T> (_ initializedValue: T, method: (T, Element) -> T) -> T {
        var result = initializedValue
        for element in self {
            result = method(result, element)
        }
        return result
    }
}
```
 
